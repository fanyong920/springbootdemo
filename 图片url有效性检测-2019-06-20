public boolean checkUrlIsAvailable(String urlStr) {
		InputStream inStream = null;
		ByteArrayOutputStream outStream = null;
		byte[] data = null;
		if (urlStr == null || "".equals(urlStr)) {
			return false;
		}
		if (urlStr.startsWith("//")) {
			urlStr = "http:" + urlStr;
		}

		if (urlStr.toLowerCase().startsWith("https")) {
			urlStr = "http" + urlStr.substring(5);
		}
		HttpURLConnection connection = null;
		URL url = null;
		try {
			url = new URL(urlStr);// 链接
			connection = (HttpURLConnection) url.openConnection();// 打开链接
			 connection.setDoInput(true);
			connection.connect();
			if (connection.getResponseCode() == HttpURLConnection.HTTP_NOT_FOUND) {
				return true;
			} else {//如果状态不是200,则先拿数据看看
				  inStream = connection.getInputStream(); 
				 outStream = new ByteArrayOutputStream(); 
					byte[] buffer = new byte[1024];   //创建一个Buffer字符串  
					int len = 0;    //每次读取的字符串长度，如果为-1，代表全部读取完毕  
					while( (len=inStream.read(buffer)) != -1 ){   //使用一个输入流从buffer里把数据读取出来  
						outStream.write(buffer, 0, len);   //用输出流往buffer里写入数据，中间参数代表从哪个位置开始读，len代表读取的长度  
					}  
					data=outStream.toByteArray();
					if(data == null) {
						return true;
					}else {
						return false;
					}
				
			}
		} catch (Exception e) {
			log.error("检查图片有效性时出错:", e);
			return false;
		} finally {
			if (connection != null) {
				connection.disconnect();
				connection = null;
			}
		}
	}
